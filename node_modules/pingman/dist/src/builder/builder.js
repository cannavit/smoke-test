"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const helper_1 = require("../helper");
const errors_1 = require("../errors");
const windows_1 = __importDefault(require("./windows"));
const linux_1 = __importDefault(require("./linux"));
const mac_1 = __importDefault(require("./mac"));
const messages_1 = require("../messages");
//Create instance of builder depending on platform
function createBuilder(ip, platform, options) {
    let builder;
    helper_1.validateIp(ip);
    if (!helper_1.isPlatformSupported(platform)) {
        throw new errors_1.supportedError(messages_1.ERROR_MESSAGES.PLATFORM_NOT_SUPPORTED.replace('platform', platform));
    }
    if (platform === 'win32') {
        builder = windows_1.default(ip, options); //creates and builds commands for windows
    }
    else if (platform === 'darwin') {
        builder = mac_1.default(ip, options); //creates and builds commands for mac
    }
    else {
        builder = linux_1.default(ip, options); //creates and builds commands for linux
    }
    return builder;
}
exports.default = createBuilder;
